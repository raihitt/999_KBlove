# AML Stage 3: 実行手順

## 手順0: 前提確認

1. 現行仕様を確認する
- `docs/aml/stage1_current_state.md`
2. 改変候補を確認する
- `docs/aml/stage2_change_points.md`
3. 固有値制約を固定する
- `MOUSE` / `SCROLL` と AML切替先レイヤー番号は変更しない

## 手順1: 小さく変更

1. 変更対象を1項目に絞る（例: タイムアウトのみ）
2. `before -> after` を明記して差分を作る

## 手順2: 実装

1. 対象ファイルへ最小差分で反映
2. 実装チェック
- `zip_temp_layer` のレイヤー番号が変わっていない
- `MOUSE` / `SCROLL` の役割定義を変更していない
- `scroll` ブロックのレイヤー割当が崩れていない

## 手順3: 履歴化とビルド開始

1. 1コミット1目的で記録
2. コミットメッセージに以下を記載
- 変更理由
- 影響ファイル
- 期待する実機確認内容
3. `git push` して GitHub Actions のビルドを開始する

## 手順4: 検証（ビルド後）

1. Actions 完了後、最新の `uf2` をダウンロードして更新
2. 実機確認
- AML遷移タイミング
- クリック継続性
- スクロール変換の挙動
